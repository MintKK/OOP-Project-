{% extends "CommuHub_Layout.html" %}

{% block additionalstyles %}
    <!-- Loading scren CSS -->
    <link rel="stylesheet" href="../static/css/normalize.css">
    <link rel="stylesheet" href="../static/css/loading.css">

    <!-- "Fullpage" CSS -->
    <style type="text/css">
        #pageContain {
    	/*overflow: hidden;*/
    }
    .page {
    	display: none;
    	/*width: 100%;
    	height: 100%;*/
    	overflow: hidden;
    	/*position: absolute;*/
    }
    .contain {
    	/*width: 100%;
    	height: 100%;*/
    	display: none;
    	position: relative;
    	z-index: 0;
    }
    .current .contain,.slide .contain {
    	display: block;
    }
    .current {
    	display: block;
    	z-index: 1;
    }
    .slide {
    	display: block;
    	z-index: 2;
    }
    .swipe {
        /*display: block;*/
        z-index: 3;
        transition-duration: 0ms !important;
        -webkit-transition-duration: 0ms !important;
    }
    .page1 {
    	background: #e5e5e5;
    }
    .page2 {
    	background: #e5e5e5;
    }
    .page3 {
    	background: #e5e5e5;
    }

    #navBar {
    	z-index: 3;
    	position: absolute;
    	top: 10%;
    	right: 3%;
    }
    #navBar .active {
        background: #ccc;
    }
    #navBar li {
        cursor: pointer;
        margin-bottom: 10px;
        transition: all .7s ease;
        border-radius: 50%;
        line-height: 40px;
        text-align: center;
        width: 40px;
        height: 40px;
    }

    p {
        /*width: 200px;
        height: 100px;*/
        text-align: center;
        /*position: absolute;*/
        /*left: 50%;
        top: 50%;
        margin-left: -100px;
        margin-top: -50px;*/
        opacity: 1;
        transition: all .8s ease;
        transform-origin: 50% 50%;
    }
    .step1 p {
        transform: translate(0, -50px);
        -webkit-transform: translate(0, -50px);
    }
    .step2 p {
        opacity: 0;
        transform: scale(2);
        -webkit-transform: scale(2);
    }
    .step3 p {
        transform: scale(1);
        -webkit-transform: scale(1);
        opacity: 1;
    }
    .step4 p {
        -webkit-transform: rotate(360deg) translate(0,-200px) scale(.3);
        transform: rotate(360deg) translate(0,-200px) scale(.3);
        opacity: 0;
    }
    </style>
{% endblock %}

{% block additionalprescripts %}
{#    <script>#}
{#        {{ projects }}#}
{#    </script>#}
    <!-- Preloader CSS -->
    <script src="../static/vendor/modernizr-2.6.2.min.js"></script>
{% endblock %}

{% block body %}
    <!-- Preloader, disabled during development -->
{#        <div id="loader-wrapper">#}
{#        <div id="loader"></div>#}
{##}
{#            <div class="loader-section section-left"></div>#}
{#            <div class="loader-section section-right"></div>#}
{##}
{#        </div>#}

    <div class="container mainBody">

    <div id="pageTitle" class="pull left">
        <h2>Donation projects</h2>
        <p>Currently active projects</p>
    </div>

{#          <div class="row">#}
{#            <div class="col-md-3 wow" id="sidebar">#}
{#                <div>#}
{#                    <a class="list-group-item active">Guardian#}
{#                    </a>#}
{#                    <ul class="list-group">#}
{#                        <li class="list-group-item"><a href="/medshop/guardian/cough_cold_allergy">Cough, Cold &#}
{#                            Allergy</a>#}
                            {#                        <span class="label label-primary pull-right">20</span>#}
{#                        </li>#}
{#                        <li class="list-group-item"><a href="/medshop/guardian/pain_fever">Pain & Fever</a>#}
                            {#                    <span class="label label-success pull-right">20</span>#}
{#                        </li>#}
{#                    </ul>#}
{#                </div>#}
{#                <div>#}
{#                    <a class="list-group-item active list-group-item-success">Watsons#}
{#                    </a>#}
{#                    <ul class="list-group">#}
{#                        <li class="list-group-item"><a href="/medshop/watsons/colds_flu_nasal">Colds, Flu &#}
{#                            Nasal</a>#}
                            {#                        <span class="label label-primary pull-right">20</span>#}
{#                        </li>#}
{#                        <li class="list-group-item"><a href="/medshop/watsons/fever_analgesics">Fever &#}
{#                            Analgesics</a>#}
                            {#                          <span class="label label-success pull-right">20</span>#}
{#                        </li>#}
{#                    </ul>#}
{#                </div>#}
{#                {% if website == 'Test' or  website == 'Test2' %}#}
{#                    <div>#}
{#                        <form id="live-search" action="" class="styled" method="post">#}
{#                            <fieldset>#}
{#                                <label>Filter Product Name:</label>#}
{#                                <input type="text" class="text-input" id="filter" value=""/>#}
{#                            </fieldset>#}
{#                        </form>#}
{#                    </div>#}
{#                {% endif %}#}
{#            </div>#}
{#              <div>#}
{#                  <h1>Testing</h1>#}
{#              </div>#}
{#          </div>#}

    	<div id="pageContain">

		<div class="page page1 current">
			<div class="contain">
                {% for project in projects %}
                    <div class="col-md-4 text-center pName">
                        <div class="thumbnail">
                            <img src="{{ project.get_thumbnail() }}" alt="Thumbnail for {{ project.get_p_id() }}" style="width:150px; height:150px;" />
                        </div>
                        <div class="caption">
                            <h3 style="">{{ project.get_title() }}</h3>
                            {% if project.get_categories()|length > 1 %}
                                <p>Item categories:
                            {% elif project.get_categories()|length == 1 %}
                                <p>Item category:
                            {% endif %}
                                {% for category in project.get_categories() %}
                                <strong>{{ category }}</strong>
                                {% endfor %}
                            </p>
                            <p>{{ project.get_description() }}</p>
{#                            <p><a href="https://www.guardian.com.sg{{ products.get_link() }}"#}
{#                                  title="Product" target='_blank'#}
{#                                  onClick="window.open(this.href,'{{ products.get_name() }}',#}
{#                                          'resizable,location=no,toolbar=no,status=no,scrollbars=yes,menubar=no,titlebar=yes,width=1000,height=500,left=0,top=0'); return false;">More#}
{#                                Information</a></p>#}
                        </div>
                    </div>
                {% endfor %}
{#                    {% if website == 'Guardian' and type == 'cough_cold_allergy' and page == '1' %}#}
{#                        {% for products in pdt %}#}
{#                            <div class="col-md-4 text-center col-sm-6 col-xs-6 pdtName">#}
{#                                <div class="thumbnail product-box">#}
{#                                    <img src="https://www.guardian.com.sg{{ products.get_image() }}" alt=""/>#}
{#                                    <div class="caption">#}
{#                                        <h3 style="min-height: 4.5em;">{{ products.get_name() }}</h3>#}
{#                                        <p>Price : <strong>{{ products.get_price() }}</strong></p>#}
{#                                        <p><strong>{{ products.get_offer() }}</strong></p>#}
{#                                        <p>Stock: <strong>{{ products.get_msg() }}</strong>#}
{#                                            {% if products.get_msg() == '' %}In Stock{% endif %}</p>#}
{#                                        <p><a href="https://www.guardian.com.sg{{ products.get_link() }}"#}
{#                                              title="Product" target='_blank'#}
{#                                              onClick="window.open(this.href,'{{ products.get_name() }}',#}
{#                                                      'resizable,location=no,toolbar=no,status=no,scrollbars=yes,menubar=no,titlebar=yes,width=1000,height=500,left=0,top=0'); return false;">More#}
{#                                            Information</a></p>#}
{#                                    </div>#}
{#                                </div>#}
{#                            </div>#}
{#                        {% endfor %}#}
{#                    {% endif %}#}

			</div>
		</div>

		<div class="page page2">
			<div class="contain">
            <p>Test</p>
			</div>
		</div>

		<div class="page page3">
			<div class="contain">
				<p>Test 2</p>
			</div>
		</div>


	</div>
	<ul id="navBar">
		<li>1</li>
		<li>2</li>
		<li>3</li>
	</ul>

    </div>

{% endblock %}

{% block modals %}
{% include 'includes/_modals.html' %}
{% endblock %}

{% block additionalscripts %}

    <script>
    $(document).ready(function() {

         /* Preloading */
        /*setTimeout(function(){
            $('body').addClass('loaded');
            $('h1').css('color','#32CD32');
        }, 3000);

         <!-- Filter -->
        $("#filter").keyup(function () {
                var filter = $(this).val(), count = 0;
                $(".pdtName").each(function () {
                    if ($(this).text().search(new RegExp(filter, "i")) < 0) {
                        $(this).fadeOut();
                    } else {
                        $(this).fadeIn();
                        count++;
                    }
                });
            });

         <!-- Sidebar navigation -->
         var $sidebar = $("#sidebar"),
                $window = $(window),
                offset = $sidebar.offset(),
                topPadding = 20;

            $window.scroll(function () {
                if ($window.scrollTop() > offset.top) {
                    $sidebar.stop().animate({
                        marginTop: $window.scrollTop() - offset.top + topPadding
                    });
                } else {
                    $sidebar.stop().animate({
                        marginTop: 0
                    });
                }
            });*/
    });
    </script>

    <!-- "Fullpage" internal JS -->
    <script type="text/javascript" src="../static/js/fullPage.min.js"></script>
    <script type="text/javascript">

    var runPage = new FullPage({

        id : 'pageContain',                            // id of contain
        slideTime : 800,                               // time of slide
        continuous : false,                            // create an infinite feel with no endpoints
        effect : {                                     // slide effect
                transform : {
                    translate : 'Y',				   // 'X'|'Y'|'XY'|'none'
                    scale : [.1, 1],				   // [scalefrom, scaleto]
                    rotate : [0, 0]				       // [rotatefrom, rotateto]
                },
                opacity : [0, 1]                       // [opacityfrom, opacityto]
            },
        mode : 'wheel,touch,nav:navBar',               // mode of fullpage
        start : 0,                                     // which page will display when install
        easing : 'ease'                                // easing('ease','ease-in','ease-in-out' or use cubic-bezier like [.33, 1.81, 1, 1];
        //  ,onSwipeStart : function(index, thisPage) {   // callback before pageChange
        //    return 'stop';
        //  }
        //  ,beforeChange : function(index, thisPage) {   // callback before pageChange
        //    return 'stop';
        //  }
        //  ,callback : function(index, thisPage) {       // callback when pageChange
        //    alert(index);
        //  };
    });

    </script>
{% endblock %}
